/**
 * Preconfigured Templates for QZPay Playground
 *
 * These templates provide sample data sets that users can load
 * to quickly explore different billing scenarios.
 */

import type { PlaygroundData } from '../adapters/local-storage.adapter';

export interface PlaygroundTemplate {
  id: string;
  nameKey: string;
  descriptionKey: string;
  icon: 'Briefcase' | 'Code' | 'Package' | 'Gift';
  data: Partial<PlaygroundData>;
}

const now = new Date();
const generateId = (prefix: string, index: number) => `${prefix}_template_${index}`;

/**
 * SaaS Basic Template
 * Common B2B SaaS with Free, Pro, Enterprise tiers
 */
const saasBasicTemplate: PlaygroundTemplate = {
  id: 'saas-basic',
  nameKey: 'templates.saasBasic.name',
  descriptionKey: 'templates.saasBasic.description',
  icon: 'Briefcase',
  data: {
    // Entitlement Definitions
    entitlementDefinitions: {
      api_access: {
        key: 'api_access',
        name: 'API Access',
        description: 'Access to the REST API for integrations',
        createdAt: now,
        updatedAt: now,
      },
      priority_support: {
        key: 'priority_support',
        name: 'Priority Support',
        description: '24/7 priority customer support',
        createdAt: now,
        updatedAt: now,
      },
      advanced_analytics: {
        key: 'advanced_analytics',
        name: 'Advanced Analytics',
        description: 'Access to advanced analytics and reporting',
        createdAt: now,
        updatedAt: now,
      },
      sso_saml: {
        key: 'sso_saml',
        name: 'SSO & SAML',
        description: 'Single sign-on and SAML authentication',
        createdAt: now,
        updatedAt: now,
      },
      dedicated_support: {
        key: 'dedicated_support',
        name: 'Dedicated Support',
        description: 'Dedicated account manager and support team',
        createdAt: now,
        updatedAt: now,
      },
      custom_branding: {
        key: 'custom_branding',
        name: 'Custom Branding',
        description: 'White-label and custom branding options',
        createdAt: now,
        updatedAt: now,
      },
    },
    // Limit Definitions
    limitDefinitions: {
      projects: {
        key: 'projects',
        name: 'Projects',
        description: 'Maximum number of projects',
        unit: 'projects',
        defaultValue: 1,
        createdAt: now,
        updatedAt: now,
      },
      storage_gb: {
        key: 'storage_gb',
        name: 'Storage',
        description: 'Storage space in gigabytes',
        unit: 'GB',
        defaultValue: 1,
        createdAt: now,
        updatedAt: now,
      },
      team_members: {
        key: 'team_members',
        name: 'Team Members',
        description: 'Maximum team members per workspace',
        unit: 'members',
        defaultValue: 1,
        createdAt: now,
        updatedAt: now,
      },
      api_calls_monthly: {
        key: 'api_calls_monthly',
        name: 'API Calls',
        description: 'Monthly API call limit',
        unit: 'calls/month',
        defaultValue: 1000,
        createdAt: now,
        updatedAt: now,
      },
    },
    // Customers
    customers: {
      [generateId('cus', 1)]: {
        id: generateId('cus', 1),
        externalId: 'user_john_doe',
        email: 'john.doe@example.com',
        name: 'John Doe',
        phone: '+1-555-0101',
        providerCustomerIds: {},
        metadata: { company: 'Acme Corp', role: 'CEO' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 2)]: {
        id: generateId('cus', 2),
        externalId: 'user_jane_smith',
        email: 'jane.smith@startup.io',
        name: 'Jane Smith',
        phone: '+1-555-0102',
        providerCustomerIds: {},
        metadata: { company: 'StartupIO', role: 'CTO' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 3)]: {
        id: generateId('cus', 3),
        externalId: 'user_bob_wilson',
        email: 'bob@freelancer.com',
        name: 'Bob Wilson',
        phone: null,
        providerCustomerIds: {},
        metadata: { type: 'freelancer' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // Plans with entitlements and limits
    plans: {
      [generateId('plan', 1)]: {
        id: generateId('plan', 1),
        name: 'Free',
        description: 'Perfect for getting started',
        active: true,
        features: [
          { name: '1 project', included: true },
          { name: '100 MB storage', included: true },
          { name: 'Community support', included: true },
          { name: 'Basic analytics', included: true },
        ],
        entitlements: [],
        limits: {
          projects: 1,
          storage_gb: 0.1, // 100 MB
          team_members: 1,
          api_calls_monthly: 0, // No API access
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 2)]: {
        id: generateId('plan', 2),
        name: 'Pro',
        description: 'For growing teams',
        active: true,
        features: [
          { name: 'Unlimited projects', included: true },
          { name: '10 GB storage', included: true },
          { name: 'Priority support', included: true },
          { name: 'Advanced analytics', included: true },
          { name: 'API access', included: true },
        ],
        entitlements: ['api_access', 'priority_support', 'advanced_analytics'],
        limits: {
          projects: -1, // Unlimited
          storage_gb: 10,
          team_members: 10,
          api_calls_monthly: 50000,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 3)]: {
        id: generateId('plan', 3),
        name: 'Enterprise',
        description: 'For large organizations',
        active: true,
        features: [
          { name: 'Unlimited everything', included: true },
          { name: 'Unlimited storage', included: true },
          { name: 'Dedicated support', included: true },
          { name: 'Custom analytics', included: true },
          { name: 'SSO & SAML', included: true },
          { name: 'SLA guarantee', included: true },
        ],
        entitlements: ['api_access', 'priority_support', 'advanced_analytics', 'sso_saml', 'dedicated_support', 'custom_branding'],
        limits: {
          projects: -1, // Unlimited
          storage_gb: -1, // Unlimited
          team_members: -1, // Unlimited
          api_calls_monthly: -1, // Unlimited
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    prices: {
      // Free plan - $0/month
      [generateId('price', 1)]: {
        id: generateId('price', 1),
        planId: generateId('plan', 1),
        nickname: 'Free Monthly',
        unitAmount: 0,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Pro plan - $19/month
      [generateId('price', 2)]: {
        id: generateId('price', 2),
        planId: generateId('plan', 2),
        nickname: 'Pro Monthly',
        unitAmount: 1900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: 14,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Pro plan - $190/year (2 months free)
      [generateId('price', 3)]: {
        id: generateId('price', 3),
        planId: generateId('plan', 2),
        nickname: 'Pro Yearly',
        unitAmount: 19000,
        currency: 'USD',
        billingInterval: 'year',
        intervalCount: 1,
        trialDays: 14,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Enterprise plan - $99/month
      [generateId('price', 4)]: {
        id: generateId('price', 4),
        planId: generateId('plan', 3),
        nickname: 'Enterprise Monthly',
        unitAmount: 9900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Enterprise plan - $990/year
      [generateId('price', 5)]: {
        id: generateId('price', 5),
        planId: generateId('plan', 3),
        nickname: 'Enterprise Yearly',
        unitAmount: 99000,
        currency: 'USD',
        billingInterval: 'year',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    addons: {
      [generateId('addon', 1)]: {
        id: generateId('addon', 1),
        name: 'Extra Seats',
        description: 'Add more team members to your plan',
        type: 'recurring',
        unitAmount: 500,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 2), generateId('plan', 3)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 2)]: {
        id: generateId('addon', 2),
        name: 'Priority Support',
        description: '24/7 priority support with dedicated account manager',
        type: 'recurring',
        unitAmount: 2900,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 2)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    promoCodes: {
      [generateId('promo', 1)]: {
        id: generateId('promo', 1),
        code: 'WELCOME20',
        discountType: 'percentage',
        discountValue: 20,
        maxRedemptions: 100,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 90 * 24 * 60 * 60 * 1000), // 90 days
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // One-time payment products
    products: {
      [generateId('product', 1)]: {
        id: generateId('product', 1),
        name: 'Onboarding Package',
        description: 'Professional setup and configuration assistance for your team',
        unitAmount: 49900, // $499
        currency: 'USD',
        active: true,
        metadata: { category: 'services', hours: 5 },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 2)]: {
        id: generateId('product', 2),
        name: 'Consulting Hour',
        description: 'One hour of expert consulting with our team',
        unitAmount: 15000, // $150
        currency: 'USD',
        active: true,
        metadata: { category: 'services', duration: '1 hour' },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 3)]: {
        id: generateId('product', 3),
        name: 'Custom Report',
        description: 'Generate a custom analytics report for your business',
        unitAmount: 9900, // $99
        currency: 'USD',
        active: true,
        metadata: { category: 'reports', type: 'custom' },
        createdAt: now,
        updatedAt: now,
      },
    },
  },
};

/**
 * API/Developer Template
 * Usage-based API pricing model
 */
const apiDeveloperTemplate: PlaygroundTemplate = {
  id: 'api-developer',
  nameKey: 'templates.apiDeveloper.name',
  descriptionKey: 'templates.apiDeveloper.description',
  icon: 'Code',
  data: {
    // Entitlement Definitions
    entitlementDefinitions: {
      api_access: {
        key: 'api_access',
        name: 'API Access',
        description: 'Basic API access',
        createdAt: now,
        updatedAt: now,
      },
      webhooks: {
        key: 'webhooks',
        name: 'Webhooks',
        description: 'Real-time webhook notifications',
        createdAt: now,
        updatedAt: now,
      },
      sdk_access: {
        key: 'sdk_access',
        name: 'SDK Access',
        description: 'Access to official SDK libraries',
        createdAt: now,
        updatedAt: now,
      },
      custom_domain: {
        key: 'custom_domain',
        name: 'Custom Domain',
        description: 'Use your own domain for API calls',
        createdAt: now,
        updatedAt: now,
      },
      sandbox_environment: {
        key: 'sandbox_environment',
        name: 'Sandbox Environment',
        description: 'Separate sandbox for testing',
        createdAt: now,
        updatedAt: now,
      },
    },
    // Limit Definitions
    limitDefinitions: {
      api_calls_monthly: {
        key: 'api_calls_monthly',
        name: 'API Calls',
        description: 'Monthly API call limit',
        unit: 'calls/month',
        defaultValue: 1000,
        createdAt: now,
        updatedAt: now,
      },
      rate_limit_per_min: {
        key: 'rate_limit_per_min',
        name: 'Rate Limit',
        description: 'Maximum requests per minute',
        unit: 'req/min',
        defaultValue: 10,
        createdAt: now,
        updatedAt: now,
      },
      webhook_endpoints: {
        key: 'webhook_endpoints',
        name: 'Webhook Endpoints',
        description: 'Number of webhook endpoint URLs',
        unit: 'endpoints',
        defaultValue: 1,
        createdAt: now,
        updatedAt: now,
      },
    },
    // Customers
    customers: {
      [generateId('cus', 10)]: {
        id: generateId('cus', 10),
        externalId: 'dev_alice_dev',
        email: 'alice@indiehacker.dev',
        name: 'Alice Developer',
        phone: null,
        providerCustomerIds: {},
        metadata: { github: 'alicedev', plan: 'hobby' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 11)]: {
        id: generateId('cus', 11),
        externalId: 'dev_tech_startup',
        email: 'api@techstartup.com',
        name: 'Tech Startup Inc',
        phone: '+1-555-0200',
        providerCustomerIds: {},
        metadata: { type: 'startup', employees: 15 },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 12)]: {
        id: generateId('cus', 12),
        externalId: 'dev_enterprise_corp',
        email: 'devops@bigcorp.com',
        name: 'BigCorp Engineering',
        phone: '+1-555-0201',
        providerCustomerIds: {},
        metadata: { type: 'enterprise', department: 'engineering' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // Plans
    plans: {
      [generateId('plan', 10)]: {
        id: generateId('plan', 10),
        name: 'Free',
        description: 'For hobbyists and testing',
        active: true,
        features: [
          { name: '1,000 API calls/month', included: true },
          { name: 'Rate limit: 10 req/min', included: true },
          { name: 'Community support', included: true },
        ],
        entitlements: ['api_access', 'sandbox_environment'],
        limits: {
          api_calls_monthly: 1000,
          rate_limit_per_min: 10,
          webhook_endpoints: 0,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 11)]: {
        id: generateId('plan', 11),
        name: 'Developer',
        description: 'For indie developers and small projects',
        active: true,
        features: [
          { name: '50,000 API calls/month', included: true },
          { name: 'Rate limit: 100 req/min', included: true },
          { name: 'Email support', included: true },
          { name: 'Webhooks', included: true },
        ],
        entitlements: ['api_access', 'webhooks', 'sandbox_environment'],
        limits: {
          api_calls_monthly: 50000,
          rate_limit_per_min: 100,
          webhook_endpoints: 3,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 12)]: {
        id: generateId('plan', 12),
        name: 'Business',
        description: 'For production applications',
        active: true,
        features: [
          { name: '500,000 API calls/month', included: true },
          { name: 'Rate limit: 1000 req/min', included: true },
          { name: 'Priority support', included: true },
          { name: 'Webhooks & SDK', included: true },
          { name: 'Custom domain', included: true },
        ],
        entitlements: ['api_access', 'webhooks', 'sdk_access', 'custom_domain', 'sandbox_environment'],
        limits: {
          api_calls_monthly: 500000,
          rate_limit_per_min: 1000,
          webhook_endpoints: -1, // Unlimited
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    prices: {
      // Free plan - $0/month
      [generateId('price', 10)]: {
        id: generateId('price', 10),
        planId: generateId('plan', 10),
        nickname: 'Free',
        unitAmount: 0,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Developer plan - $29/month
      [generateId('price', 11)]: {
        id: generateId('price', 11),
        planId: generateId('plan', 11),
        nickname: 'Developer Monthly',
        unitAmount: 2900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Business plan - $149/month
      [generateId('price', 12)]: {
        id: generateId('price', 12),
        planId: generateId('plan', 12),
        nickname: 'Business Monthly',
        unitAmount: 14900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    addons: {
      [generateId('addon', 10)]: {
        id: generateId('addon', 10),
        name: 'Extra API Calls',
        description: '10,000 additional API calls',
        type: 'one_time',
        unitAmount: 999,
        currency: 'USD',
        billingInterval: null,
        compatiblePlanIds: [],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 11)]: {
        id: generateId('addon', 11),
        name: 'Premium Support',
        description: 'Slack channel + priority response',
        type: 'recurring',
        unitAmount: 4900,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 11), generateId('plan', 12)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    promoCodes: {
      [generateId('promo', 10)]: {
        id: generateId('promo', 10),
        code: 'DEVSTART',
        discountType: 'percentage',
        discountValue: 100,
        duration: 'once',
        durationInMonths: 1,
        maxRedemptions: 500,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 180 * 24 * 60 * 60 * 1000), // 180 days
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [generateId('plan', 11)],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // One-time payment products
    products: {
      [generateId('product', 10)]: {
        id: generateId('product', 10),
        name: 'Extra API Calls Pack',
        description: '50,000 additional API calls, never expires',
        unitAmount: 4900, // $49
        currency: 'USD',
        active: true,
        metadata: { category: 'usage', calls: 50000 },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 11)]: {
        id: generateId('product', 11),
        name: 'Custom Integration Setup',
        description: 'Professional setup of custom API integrations',
        unitAmount: 29900, // $299
        currency: 'USD',
        active: true,
        metadata: { category: 'services', type: 'integration' },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 12)]: {
        id: generateId('product', 12),
        name: 'SLA Compliance Report',
        description: 'Detailed uptime and performance report for compliance',
        unitAmount: 19900, // $199
        currency: 'USD',
        active: true,
        metadata: { category: 'reports', type: 'sla' },
        createdAt: now,
        updatedAt: now,
      },
    },
  },
};

/**
 * E-commerce Box Template
 * Subscription box business model
 */
const ecommerceBoxTemplate: PlaygroundTemplate = {
  id: 'ecommerce-box',
  nameKey: 'templates.ecommerceBox.name',
  descriptionKey: 'templates.ecommerceBox.description',
  icon: 'Package',
  data: {
    // Entitlement Definitions
    entitlementDefinitions: {
      member_discounts: {
        key: 'member_discounts',
        name: 'Member Discounts',
        description: 'Access to exclusive member discounts on individual products',
        createdAt: now,
        updatedAt: now,
      },
      vip_discounts: {
        key: 'vip_discounts',
        name: 'VIP Discounts',
        description: 'Extra VIP-level discounts on top of member discounts',
        createdAt: now,
        updatedAt: now,
      },
      early_access: {
        key: 'early_access',
        name: 'Early Access',
        description: 'Early access to new products before general release',
        createdAt: now,
        updatedAt: now,
      },
      free_shipping: {
        key: 'free_shipping',
        name: 'Free Shipping',
        description: 'Free standard shipping on all orders',
        createdAt: now,
        updatedAt: now,
      },
      express_shipping: {
        key: 'express_shipping',
        name: 'Free Express Shipping',
        description: 'Free express shipping on all orders',
        createdAt: now,
        updatedAt: now,
      },
      exclusive_items: {
        key: 'exclusive_items',
        name: 'Exclusive Items',
        description: 'Access to exclusive, limited-edition items',
        createdAt: now,
        updatedAt: now,
      },
    },
    // Limit Definitions
    limitDefinitions: {
      products_per_box: {
        key: 'products_per_box',
        name: 'Products per Box',
        description: 'Number of products included in each box',
        unit: 'products',
        defaultValue: 4,
        createdAt: now,
        updatedAt: now,
      },
      store_discount_percent: {
        key: 'store_discount_percent',
        name: 'Store Discount',
        description: 'Discount percentage on the online store',
        unit: '%',
        defaultValue: 10,
        createdAt: now,
        updatedAt: now,
      },
    },
    // Customers
    customers: {
      [generateId('cus', 20)]: {
        id: generateId('cus', 20),
        externalId: 'box_emily_r',
        email: 'emily.rodriguez@gmail.com',
        name: 'Emily Rodriguez',
        phone: '+1-555-0301',
        providerCustomerIds: {},
        metadata: { preferences: ['organic', 'vegan'], shirtSize: 'M' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 21)]: {
        id: generateId('cus', 21),
        externalId: 'box_michael_c',
        email: 'mike.chen@yahoo.com',
        name: 'Michael Chen',
        phone: '+1-555-0302',
        providerCustomerIds: {},
        metadata: { preferences: ['tech', 'gadgets'], isGift: false },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 22)]: {
        id: generateId('cus', 22),
        externalId: 'box_sarah_premium',
        email: 'sarah.premium@outlook.com',
        name: 'Sarah Premium',
        phone: '+1-555-0303',
        providerCustomerIds: {},
        metadata: { preferences: ['luxury', 'exclusive'], vip: true },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // Plans
    plans: {
      [generateId('plan', 20)]: {
        id: generateId('plan', 20),
        name: 'Monthly Box',
        description: 'Our curated monthly selection',
        active: true,
        features: [
          { name: '4-6 products', included: true },
          { name: 'Free shipping', included: true },
          { name: 'Member discounts', included: true },
        ],
        entitlements: ['member_discounts', 'free_shipping'],
        limits: {
          products_per_box: 5,
          store_discount_percent: 10,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 21)]: {
        id: generateId('plan', 21),
        name: 'Premium Box',
        description: 'Premium selection with exclusive items',
        active: true,
        features: [
          { name: '8-10 products', included: true },
          { name: 'Free express shipping', included: true },
          { name: 'Exclusive items', included: true },
          { name: 'Early access to new products', included: true },
          { name: 'VIP member discounts', included: true },
        ],
        entitlements: ['member_discounts', 'vip_discounts', 'early_access', 'express_shipping', 'exclusive_items'],
        limits: {
          products_per_box: 9,
          store_discount_percent: 25,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    prices: {
      // Monthly Box - $29/month
      [generateId('price', 20)]: {
        id: generateId('price', 20),
        planId: generateId('plan', 20),
        nickname: 'Monthly Box',
        unitAmount: 2900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Premium Box - $49/month
      [generateId('price', 21)]: {
        id: generateId('price', 21),
        planId: generateId('plan', 21),
        nickname: 'Premium Box',
        unitAmount: 4900,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    addons: {
      [generateId('addon', 20)]: {
        id: generateId('addon', 20),
        name: 'Gift Wrap',
        description: 'Beautiful gift wrapping for your box',
        type: 'one_time',
        unitAmount: 499,
        currency: 'USD',
        billingInterval: null,
        compatiblePlanIds: [],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 21)]: {
        id: generateId('addon', 21),
        name: 'Express Shipping Upgrade',
        description: 'Get your box 2-3 days faster',
        type: 'recurring',
        unitAmount: 799,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 20)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 22)]: {
        id: generateId('addon', 22),
        name: 'Extra Item',
        description: 'Add one extra curated item to your box',
        type: 'recurring',
        unitAmount: 999,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 20), generateId('plan', 21)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    promoCodes: {
      [generateId('promo', 20)]: {
        id: generateId('promo', 20),
        code: 'FIRSTBOX',
        discountType: 'percentage',
        discountValue: 15,
        maxRedemptions: 1000,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 365 * 24 * 60 * 60 * 1000), // 1 year
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('promo', 21)]: {
        id: generateId('promo', 21),
        code: 'GOPREMIUM',
        discountType: 'percentage',
        discountValue: 25,
        maxRedemptions: 500,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 90 * 24 * 60 * 60 * 1000), // 90 days
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [generateId('plan', 21)],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // One-time payment products
    products: {
      [generateId('product', 20)]: {
        id: generateId('product', 20),
        name: 'Gift Card - $25',
        description: 'Gift card redeemable for any box or product',
        unitAmount: 2500, // $25
        currency: 'USD',
        active: true,
        metadata: { category: 'gift', value: 2500 },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 21)]: {
        id: generateId('product', 21),
        name: 'Gift Card - $50',
        description: 'Gift card redeemable for any box or product',
        unitAmount: 5000, // $50
        currency: 'USD',
        active: true,
        metadata: { category: 'gift', value: 5000 },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 22)]: {
        id: generateId('product', 22),
        name: 'Limited Edition Item',
        description: 'Exclusive limited edition item, available separately',
        unitAmount: 3900, // $39
        currency: 'USD',
        active: true,
        metadata: { category: 'exclusive', limited: true },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 23)]: {
        id: generateId('product', 23),
        name: 'Gift Message Card',
        description: 'Add a personalized message card to your box',
        unitAmount: 299, // $2.99
        currency: 'USD',
        active: true,
        metadata: { category: 'addon', type: 'message' },
        createdAt: now,
        updatedAt: now,
      },
    },
  },
};

/**
 * Freemium Template
 * Classic freemium model with limited free tier
 */
const freemiumTemplate: PlaygroundTemplate = {
  id: 'freemium',
  nameKey: 'templates.freemium.name',
  descriptionKey: 'templates.freemium.description',
  icon: 'Gift',
  data: {
    // Entitlement Definitions
    entitlementDefinitions: {
      ads_free: {
        key: 'ads_free',
        name: 'No Ads',
        description: 'Remove all advertisements from the app',
        createdAt: now,
        updatedAt: now,
      },
      cloud_sync: {
        key: 'cloud_sync',
        name: 'Cloud Sync',
        description: 'Sync data across all your devices',
        createdAt: now,
        updatedAt: now,
      },
      offline_mode: {
        key: 'offline_mode',
        name: 'Offline Mode',
        description: 'Use the app without internet connection',
        createdAt: now,
        updatedAt: now,
      },
      premium_features: {
        key: 'premium_features',
        name: 'Premium Features',
        description: 'Access to all premium features',
        createdAt: now,
        updatedAt: now,
      },
      priority_support: {
        key: 'priority_support',
        name: 'Priority Support',
        description: 'Priority customer support',
        createdAt: now,
        updatedAt: now,
      },
      export_data: {
        key: 'export_data',
        name: 'Export Data',
        description: 'Export your data in various formats',
        createdAt: now,
        updatedAt: now,
      },
    },
    // Limit Definitions
    limitDefinitions: {
      storage_mb: {
        key: 'storage_mb',
        name: 'Storage',
        description: 'Storage space in megabytes',
        unit: 'MB',
        defaultValue: 500,
        createdAt: now,
        updatedAt: now,
      },
      devices: {
        key: 'devices',
        name: 'Devices',
        description: 'Maximum number of connected devices',
        unit: 'devices',
        defaultValue: 1,
        createdAt: now,
        updatedAt: now,
      },
      exports_per_month: {
        key: 'exports_per_month',
        name: 'Monthly Exports',
        description: 'Number of data exports per month',
        unit: 'exports/month',
        defaultValue: 0,
        createdAt: now,
        updatedAt: now,
      },
    },
    // Customers
    customers: {
      [generateId('cus', 30)]: {
        id: generateId('cus', 30),
        externalId: 'free_user_sam',
        email: 'sam.johnson@outlook.com',
        name: 'Sam Johnson',
        phone: null,
        providerCustomerIds: {},
        metadata: { source: 'organic', referrer: null },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 31)]: {
        id: generateId('cus', 31),
        externalId: 'pro_user_lisa',
        email: 'lisa.wang@protonmail.com',
        name: 'Lisa Wang',
        phone: '+1-555-0401',
        providerCustomerIds: {},
        metadata: { source: 'referral', referrer: 'sam.johnson@outlook.com' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 32)]: {
        id: generateId('cus', 32),
        externalId: 'trial_user_david',
        email: 'david.kim@gmail.com',
        name: 'David Kim',
        phone: null,
        providerCustomerIds: {},
        metadata: { source: 'ad_campaign', campaign: 'summer_2025' },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('cus', 33)]: {
        id: generateId('cus', 33),
        externalId: 'power_user_maria',
        email: 'maria.garcia@icloud.com',
        name: 'Maria Garcia',
        phone: '+1-555-0402',
        providerCustomerIds: {},
        metadata: { source: 'product_hunt', powerUser: true },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // Plans
    plans: {
      [generateId('plan', 30)]: {
        id: generateId('plan', 30),
        name: 'Free',
        description: 'Basic features with limitations',
        active: true,
        features: [
          { name: 'Basic features', included: true },
          { name: 'Limited storage (500 MB)', included: true },
          { name: 'Ads supported', included: true },
          { name: 'Community support', included: true },
        ],
        entitlements: [],
        limits: {
          storage_mb: 500,
          devices: 1,
          exports_per_month: 0,
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('plan', 31)]: {
        id: generateId('plan', 31),
        name: 'Pro',
        description: 'Full features, no limitations',
        active: true,
        features: [
          { name: 'All features unlocked', included: true },
          { name: 'Unlimited storage', included: true },
          { name: 'No ads', included: true },
          { name: 'Priority support', included: true },
          { name: 'Cloud sync', included: true },
          { name: 'Offline mode', included: true },
        ],
        entitlements: ['ads_free', 'cloud_sync', 'offline_mode', 'premium_features', 'priority_support', 'export_data'],
        limits: {
          storage_mb: -1, // Unlimited
          devices: -1, // Unlimited
          exports_per_month: -1, // Unlimited
        },
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    prices: {
      // Free plan - $0/month
      [generateId('price', 30)]: {
        id: generateId('price', 30),
        planId: generateId('plan', 30),
        nickname: 'Free Forever',
        unitAmount: 0,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: null,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Pro plan - $9.99/month with 14-day trial
      [generateId('price', 31)]: {
        id: generateId('price', 31),
        planId: generateId('plan', 31),
        nickname: 'Pro Monthly',
        unitAmount: 999,
        currency: 'USD',
        billingInterval: 'month',
        intervalCount: 1,
        trialDays: 14,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      // Pro plan - $99/year (2 months free) with 14-day trial
      [generateId('price', 32)]: {
        id: generateId('price', 32),
        planId: generateId('plan', 31),
        nickname: 'Pro Yearly',
        unitAmount: 9900,
        currency: 'USD',
        billingInterval: 'year',
        intervalCount: 1,
        trialDays: 14,
        active: true,
        providerPriceIds: {},
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    addons: {
      [generateId('addon', 30)]: {
        id: generateId('addon', 30),
        name: 'Remove Ads',
        description: 'Remove all advertisements from the free plan',
        type: 'recurring',
        unitAmount: 199,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 30)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 31)]: {
        id: generateId('addon', 31),
        name: 'Cloud Sync',
        description: 'Sync your data across all devices',
        type: 'recurring',
        unitAmount: 299,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 30)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
      [generateId('addon', 32)]: {
        id: generateId('addon', 32),
        name: 'Extra Storage (5GB)',
        description: 'Add 5GB of extra storage to your account',
        type: 'recurring',
        unitAmount: 199,
        currency: 'USD',
        billingInterval: 'month',
        compatiblePlanIds: [generateId('plan', 30)],
        active: true,
        livemode: false,
        createdAt: now,
        updatedAt: now,
      },
    },
    promoCodes: {
      [generateId('promo', 30)]: {
        id: generateId('promo', 30),
        code: 'UPGRADE50',
        discountType: 'fixed_amount',
        discountValue: 500, // $5.00 off
        maxRedemptions: 200,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 60 * 24 * 60 * 60 * 1000), // 60 days
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [generateId('plan', 31)],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
      [generateId('promo', 31)]: {
        id: generateId('promo', 31),
        code: 'YEARLY30',
        discountType: 'percentage',
        discountValue: 30,
        maxRedemptions: 100,
        currentRedemptions: 0,
        validFrom: now,
        validUntil: new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000), // 30 days
        active: true,
        stackingMode: 'none',
        conditions: [],
        maxRedemptionsPerCustomer: 1,
        applicableProductIds: [],
        livemode: false,
        createdAt: now,
        updatedAt: now,
        deletedAt: null,
      },
    },
    // One-time payment products
    products: {
      [generateId('product', 30)]: {
        id: generateId('product', 30),
        name: 'Lifetime Pro Unlock',
        description: 'One-time payment to unlock Pro features forever',
        unitAmount: 19900, // $199
        currency: 'USD',
        active: true,
        metadata: { category: 'upgrade', type: 'lifetime' },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 31)]: {
        id: generateId('product', 31),
        name: 'Data Export Package',
        description: 'Export all your data in CSV, JSON, and Excel formats',
        unitAmount: 999, // $9.99
        currency: 'USD',
        active: true,
        metadata: { category: 'export', formats: ['csv', 'json', 'xlsx'] },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 32)]: {
        id: generateId('product', 32),
        name: 'Remove Ads Forever',
        description: 'One-time payment to permanently remove all ads',
        unitAmount: 499, // $4.99
        currency: 'USD',
        active: true,
        metadata: { category: 'upgrade', type: 'ad-free' },
        createdAt: now,
        updatedAt: now,
      },
      [generateId('product', 33)]: {
        id: generateId('product', 33),
        name: 'Extra Storage (10GB)',
        description: 'Add 10GB of permanent extra storage',
        unitAmount: 1499, // $14.99
        currency: 'USD',
        active: true,
        metadata: { category: 'storage', amount_gb: 10 },
        createdAt: now,
        updatedAt: now,
      },
    },
  },
};

/**
 * All available templates
 */
export const templates: PlaygroundTemplate[] = [
  saasBasicTemplate,
  apiDeveloperTemplate,
  ecommerceBoxTemplate,
  freemiumTemplate,
];

/**
 * Get a template by ID
 */
export function getTemplateById(id: string): PlaygroundTemplate | undefined {
  return templates.find((t) => t.id === id);
}
